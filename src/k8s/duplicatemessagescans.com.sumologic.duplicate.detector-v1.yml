# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: duplicatemessagescans.com.sumologic.duplicate.detector
spec:
  group: com.sumologic.duplicate.detector
  names:
    kind: DuplicateMessageScan
    plural: duplicatemessagescans
    shortNames:
    - dms
    singular: duplicatemessagescan
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.startTime
      name: START_TIME
      priority: 0
      type: string
    - jsonPath: .spec.endTime
      name: END_TIME
      priority: 0
      type: string
    - jsonPath: .status.segmentCount
      name: SEGMENTS
      priority: 0
      type: integer
    - jsonPath: .status.successful
      name: SUCCESSFUL
      priority: 0
      type: boolean
    - jsonPath: .status.failed
      name: FAILED
      priority: 0
      type: boolean
    - jsonPath: .status.error
      name: ERROR
      priority: 0
      type: string
    - jsonPath: .status.pendingSegmentCount
      name: PENDING_SEGMENTS
      priority: 1
      type: integer
    - jsonPath: .status.processingSegmentCount
      name: PROCESSING_SEGMENTS
      priority: 1
      type: integer
    - jsonPath: .status.completedSegmentCount
      name: COMPLETED_SEGMENTS
      priority: 1
      type: integer
    - jsonPath: .status.failedSegmentCount
      name: FAILED_SEGMENTS
      priority: 1
      type: integer
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              startTime:
                description: "Start time for the scan, in ISO format"
                type: string
              endTime:
                description: "End time for the scan, in ISO format"
                type: string
              customers:
                description: List of customers to scan
                items:
                  type: string
                type: array
              volumeSize:
                description: "[Optional] Size of the volume to attach to the scanning\
                  \ jobs, defaults to '300g'"
                nullable: true
                type: string
              targetObject:
                description: "[Optional] What to scan either blocks or indices, defaults\
                  \ to 'indices'"
                nullable: true
                type: string
              maxParallelScans:
                description: "Max number of scans that can be performed at the same\
                  \ time, defaults to 1"
                minimum: 1.0
                type: integer
              timeRangeSegmentLength:
                description: "Length of how long each scan should be, for example\
                  \ to break the full time range into 5m segments set this to PT5m"
                nullable: true
                type: string
              retriesPerSegment:
                description: "How many times to attempt each segment, default is 3"
                maximum: 5.0
                minimum: 1.0
                type: integer
            required:
            - startTime
            - endTime
            - customers
            type: object
          status:
            properties:
              successful:
                type: boolean
              failed:
                type: boolean
              error:
                type: string
              segments:
                description: Pairs of time range and customer that will be scanned
                  independently
                items:
                  properties:
                    id:
                      type: string
                    customer:
                      type: string
                    startTime:
                      type: string
                    endTime:
                      type: string
                    status:
                      enum:
                      - PENDING
                      - PROCESSING
                      - COMPLETED
                      - FAILED
                      type: string
                  type: object
                type: array
              segmentCount:
                type: integer
              pendingSegmentCount:
                type: integer
              processingSegmentCount:
                type: integer
              completedSegmentCount:
                type: integer
              failedSegmentCount:
                type: integer
              observedGeneration:
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
